{"version":3,"sources":["webpack:///./src/scripts/fileFunc.js","webpack:///./src/components/TitleBar.vue?ad79","webpack:///src/components/TitleBar.vue","webpack:///./src/components/TitleBar.vue?c556","webpack:///./src/components/TitleBar.vue","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/views/release/History.vue?88e6","webpack:///./src/views/release/History.vue?372c","webpack:///src/views/release/History.vue","webpack:///./src/views/release/History.vue?a1eb","webpack:///./src/views/release/History.vue"],"names":["AssistTestSuite","testsuite","forEach","sigsuite","cases","steps","sigstep","response","body","completeres","exportFile","filecontent","console","log","file","File","type","saveAs","exportHistoryFile","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","title","index","key","_v","_s","staticRenderFns","name","props","titleStack","Array","default","component","b","a","autoBom","warn","test","Blob","c","d","XMLHttpRequest","open","responseType","onload","g","onerror","error","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","navigator","userAgent","HTMLAnchorElement","prototype","h","i","URL","webkitURL","j","createElement","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports","attrs","staticStyle","on","importHistory","$event","exportHistory","item","openHistory","taskname","openIntoActive","undefined","selectdata","_e","components","TitleBar","VueJsonPretty","CButton","allhistorys","computed","init","methods","$store","state","releasemanagement","historyRelease","str","JSON","stringify","that","reader","readAsText","importcontent","commit"],"mappings":"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","file":"js/chunk-462458c8.2a242246.js","sourcesContent":["import FileSaver from 'file-saver'\r\n\r\n/**\r\n * 处理testsuite，为方便保存\r\n * @param {Array} testsuite testsuite列表\r\n */\r\nconst AssistTestSuite = testsuite => {\r\n  testsuite.forEach(sigsuite => {\r\n    sigsuite.cases.forEach(sigsuite => {\r\n      sigsuite.steps.forEach(sigstep => {\r\n        sigstep.response.body = ''\r\n        sigstep.response.completeres = {}\r\n      })\r\n    })\r\n  })\r\n  return testsuite\r\n}\r\n\r\n/**\r\n *  导出文件\r\n * @param {String} filecontent  文件内容\r\n */\r\nconst exportFile = filecontent => {\r\n  console.log(filecontent)\r\n  const file = new File([filecontent], 'testsuite.json', { type: 'json;charset=utf-8' })\r\n  FileSaver.saveAs(file)\r\n}\r\n\r\n/**\r\n *  导出历史记录文件\r\n * @param {String} filecontent  文件内容\r\n */\r\nconst exportHistoryFile = filecontent => {\r\n  console.log(filecontent)\r\n  const file = new File([filecontent], 'history.json', { type: 'json;charset=utf-8' })\r\n  FileSaver.saveAs(file)\r\n}\r\n\r\nexport { exportFile, exportHistoryFile, AssistTestSuite }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section is-title-bar\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('ul',_vm._l((_vm.titleStack),function(title,index){return _c('li',{key:index},[_vm._v(_vm._s(title))])}),0)])]),_c('div',{staticClass:\"level-right\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"section is-title-bar\">\r\n    <div class=\"level\">\r\n      <div class=\"level-left\">\r\n        <div class=\"level-item\">\r\n          <ul>\r\n            <li v-for=\"(title, index) in titleStack\" :key=\"index\">{{ title }}</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"level-right\" />\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  /**\r\n   * 主界面的title控件，显示根级菜单\r\n   */\r\n  name: 'TitleBar',\r\n  props: {\r\n    titleStack: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitleBar.vue?vue&type=template&id=057876aa&\"\nimport script from \"./TitleBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('title-bar',{attrs:{\"title-stack\":_vm.titleStack}}),_c('section',[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_c('div',{staticClass:\"notification has-background-cwhite-2 padding-02\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"file is-cblue-3\",staticStyle:{\"zoom\":\"70%\"}},[_c('b-upload',{staticClass:\"file-label\",attrs:{\"size\":\"is-small\"},on:{\"input\":_vm.importHistory}},[_c('span',{staticClass:\"file-cta\"},[_c('span',{staticClass:\"file-label\"},[_vm._v(\"导入\")])])])],1)]),_c('div',{staticClass:\"level-right\"},[_c('b-button',{attrs:{\"size\":\"is-small\",\"type\":\"is-cred-2\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.exportHistory()}}},[_c('p',{staticClass:\"has-text-weight-bold\"},[_vm._v(\"导出\")])])],1)]),_c('p',{staticClass:\"title is-6\"},[_vm._v(\"历史释放列表:\")]),_vm._l((_vm.allhistorys),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"notification padding-02\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('c-button',{attrs:{\"variant-color\":\"blue\",\"variant\":\"outline\",\"size\":\"sm\",\"width\":\"220px\"},on:{\"click\":function($event){return _vm.openHistory(item)}}},[_vm._v(\" \"+_vm._s(item.taskname)+\" \")])],1),_c('div',{staticClass:\"level-irght\"},[_c('c-button',{attrs:{\"left-icon\":\"phone\",\"variant-color\":\"green\",\"variant\":\"outline\",\"size\":\"sm\",\"width\":\"30px\"},on:{\"click\":function($event){return _vm.openIntoActive(item, index)}}})],1)])])])})],2)]),_c('div',{staticClass:\"column\"},[(_vm.selectdata !== undefined)?_c('div',[_c('vue-json-pretty',{attrs:{\"data\":_vm.selectdata,\"deep\":4,\"virtual\":true}})],1):_vm._e()])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <title-bar :title-stack=\"titleStack\" />\r\n    <section>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-2\">\r\n          <div class=\"notification has-background-cwhite-2 padding-02\">\r\n            <div class=\"level\">\r\n              <div class=\"level-left\">\r\n                <div class=\"file is-cblue-3\" style=\"zoom:70%\">\r\n                  <b-upload class=\"file-label\" size=\"is-small\" @input=\"importHistory\">\r\n                    <span class=\"file-cta\">\r\n                      <span class=\"file-label\">导入</span>\r\n                    </span>\r\n                  </b-upload>\r\n                </div>\r\n              </div>\r\n              <div class=\"level-right\">\r\n                <b-button size=\"is-small\" type=\"is-cred-2\" outlined @click=\"exportHistory()\">\r\n                  <p class=\"has-text-weight-bold\">导出</p>\r\n                </b-button>\r\n              </div>\r\n            </div>\r\n            <p class=\"title is-6\">历史释放列表:</p>\r\n            <div v-for=\"(item, index) in allhistorys\" :key=\"index\">\r\n              <div class=\"notification padding-02\">\r\n                <div class=\"level\">\r\n                  <div class=\"level-left\">\r\n                    <c-button variant-color=\"blue\" variant=\"outline\" size=\"sm\" width=\"220px\" @click=\"openHistory(item)\">\r\n                      {{ item.taskname }}\r\n                    </c-button>\r\n                  </div>\r\n                  <div class=\"level-irght\">\r\n                    <c-button\r\n                      left-icon=\"phone\"\r\n                      variant-color=\"green\"\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      width=\"30px\"\r\n                      @click=\"openIntoActive(item, index)\"\r\n                    ></c-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div v-if=\"selectdata !== undefined\">\r\n            <vue-json-pretty :data=\"selectdata\" :deep=\"4\" :virtual=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { exportHistoryFile } from '../../scripts/fileFunc'\r\nimport { CButton } from '@chakra-ui/vue'\r\nimport VueJsonPretty from 'vue-json-pretty'\r\nimport 'vue-json-pretty/lib/styles.css'\r\nimport TitleBar from '@/components/TitleBar'\r\nexport default {\r\n  name: 'NowSprint',\r\n  components: {\r\n    TitleBar,\r\n    VueJsonPretty,\r\n    CButton\r\n  },\r\n  data() {\r\n    return {\r\n      allhistorys: [],\r\n      selectdata: {}\r\n    }\r\n  },\r\n  computed: {\r\n    titleStack() {\r\n      return ['RoWalock', '历史释放']\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 初始化\r\n     */\r\n    init() {\r\n      this.allhistorys = this.$store.state.releasemanagement.historyRelease // 赋值\r\n    },\r\n    /**\r\n     * 打开历史记录\r\n     */\r\n    openHistory(item) {\r\n      this.selectdata = item\r\n    },\r\n    /**\r\n     * 导出历史记录\r\n     */\r\n    exportHistory() {\r\n      const str = JSON.stringify(this.allhistorys)\r\n      exportHistoryFile(str)\r\n    },\r\n    /**\r\n     * 导入历史记录\r\n     */\r\n    importHistory(file) {\r\n      const that = this // 定义\r\n      // 新建一个FileReader\r\n      const reader = new FileReader()\r\n      // 读取文件\r\n      reader.readAsText(file, 'UTF-8')\r\n      // 读取完文件之后会回来这里\r\n      reader.onload = function(e) {\r\n        // 读取文件内容(赋值)\r\n        const importcontent = e.target.result\r\n        // 接下来可对文件内容进行处理\r\n        that.$store.commit('uploadHistoryReleaseByFile', importcontent) // 提交\r\n        that.init()\r\n      }\r\n    },\r\n    /**\r\n     * 重新放到活动的里面\r\n     */\r\n    openIntoActive(item, index) {\r\n      // 接下来可对文件内容进行处理\r\n      this.$store.commit('takeHistoryIntoActive', { item: item, index: index }) // 提交\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.padding-02 {\r\n  padding: 0.2rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=6d06cc15&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}