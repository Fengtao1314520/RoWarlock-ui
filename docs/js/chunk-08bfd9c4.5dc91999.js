(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08bfd9c4"],{"08df":function(e,t,s){"use strict";s("1681")},1681:function(e,t,s){},"1e1d":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section is-title-bar"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("ul",e._l(e.titleStack,(function(t,i){return s("li",{key:i},[e._v(e._s(t))])})),0)])]),s("div",{staticClass:"level-right"})])])},a=[],l={name:"TitleBar",props:{titleStack:{type:Array,default:()=>[]}}},n=l,c=s("2877"),o=Object(c["a"])(n,i,a,!1,null,null,null);t["a"]=o.exports},"54af":function(e,t,s){e.exports=s.p+"img/s.9f02ccc7.png"},"947e":function(e,t,s){},9824:function(e,t,s){"use strict";s("947e")},a243:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[e.title?s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e.icon?s("b-icon",{attrs:{icon:e.icon,"custom-size":"default"}}):e._e(),e._v(" "+e._s(e.title)+" ")],1),e.headerIcon?s("a",{staticClass:"card-header-icon",attrs:{href:"#","aria-label":"more options"},on:{click:function(t){return t.preventDefault(),e.headerIconClick(t)}}},[s("b-icon",{attrs:{icon:e.headerIcon,"custom-size":"default"}})],1):e._e()]):e._e(),s("div",{staticClass:"card-content padding-05 "},[e._t("default")],2)])},a=[],l={name:"CardComponent",props:{title:{type:String,default:null},icon:{type:String,default:null},headerIcon:{type:String,default:null}},methods:{headerIconClick(){this.$emit("header-icon-click")}}},n=l,c=(s("9824"),s("2877")),o=Object(c["a"])(n,i,a,!1,null,"513b6b75",null);t["a"]=o.exports},f15d:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("title-bar",{attrs:{"title-stack":e.titleStack}}),s("section",{staticClass:"section is-main-section"},[s("b-tabs",{attrs:{type:"is-boxed",size:"is-medium"}},[s("card-component",{attrs:{title:"个人设置",icon:"cogs"}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-1"},[s("figure",{staticClass:"image is-128x128"},[s("img",{attrs:{src:e.headfile}})])]),s("div",{staticClass:"column is-2"},[s("div",{staticClass:"mt-4"},[s("b-field",{attrs:{horizontal:"",label:"账号:"}},[s("b-input",{attrs:{type:"text",placeholder:"账号",disabled:""},model:{value:e.userinfo.uname,callback:function(t){e.$set(e.userinfo,"uname",t)},expression:"userinfo.uname"}})],1),s("b-field",{attrs:{horizontal:"",label:"昵称:"}},[s("b-input",{attrs:{type:"text",placeholder:"昵称"},model:{value:e.userinfo.unickname,callback:function(t){e.$set(e.userinfo,"unickname",t)},expression:"userinfo.unickname"}})],1)],1)]),s("div",{staticClass:"column is-2"},[s("div",{staticClass:"mt-4"},[s("b-field",{attrs:{horizontal:"",label:"密码:"}},[s("b-input",{attrs:{type:"text",placeholder:"密码"},model:{value:e.userinfo.upsd,callback:function(t){e.$set(e.userinfo,"upsd",t)},expression:"userinfo.upsd"}})],1),s("b-field",{attrs:{horizontal:"",label:"邮箱:"}},[s("b-input",{attrs:{type:"text",placeholder:"邮箱"},model:{value:e.userinfo.uemail,callback:function(t){e.$set(e.userinfo,"uemail",t)},expression:"userinfo.uemail"}})],1)],1)]),s("div",{staticClass:"column is-2"},[s("div",{staticClass:"mt-4"},[s("b-field",{attrs:{label:"选择第一个默认项目","label-position":"on-border"}},[s("b-select",{attrs:{placeholder:"选择项目",expanded:""},model:{value:e.selectedproject[0],callback:function(t){e.$set(e.selectedproject,0,t)},expression:"selectedproject[0]"}},e._l(e.allprojects,(function(t,i){return s("option",{key:i,domProps:{value:t}},[e._v(e._s(t.name))])})),0)],1),s("b-field",{attrs:{label:"选择第二个默认项目","label-position":"on-border"}},[s("b-select",{attrs:{placeholder:"选择项目",expanded:""},model:{value:e.selectedproject[1],callback:function(t){e.$set(e.selectedproject,1,t)},expression:"selectedproject[1]"}},e._l(e.allprojects,(function(t,i){return s("option",{key:i,domProps:{value:t}},[e._v(e._s(t.name))])})),0)],1),s("div",{staticClass:"level"},[s("div",{staticClass:"level is-left"}),s("div",{staticClass:"level is-right"},[s("b-button",{attrs:{size:"is-small",type:"is-cgreen-2"},on:{click:function(t){return e.uploadNew()}}},[e._v("保存")])],1)])],1)])])])],1)],1)],1)},a=[],l=s("54af"),n=s.n(l),c=s("1e1d"),o=s("a243"),r=s("3952"),u=s("e114"),d={name:"Settings",components:{TitleBar:c["a"],CardComponent:o["a"]},data(){return{userinfo:{},headfile:"",allprojects:[],selectedproject:[]}},computed:{titleStack(){return["RoWalock","个人设置"]}},mounted(){this.init()},methods:{init(){Object(r["a"])().then(e=>{this.allprojects=e}).catch(e=>{this.allprojects=e}).finally(()=>{this.headfile=n.a,this.userinfo=this.$store.state.common.activeusers})},uploadNew(){const e={userinfo:JSON.stringify(this.userinfo),selectedproject:JSON.stringify(this.selectedproject)};console.log(e),Object(u["c"])("/profile/setting/updateuser",e).then(e=>{!0===e.resstatus?(this.$store.commit("uploadDefaultTwoProjs",this.selectedproject),this.$store.commit("updateUserInfo",e),this.$buefy.toast.open({duration:3e3,message:e.meesage,type:"is-success"}),this.selectedproject=[]):this.$buefy.toast.open({duration:3e3,message:"个人信息更新失败!请重试或检查信息",type:"is-warning"})}).catch(()=>{this.$buefy.toast.open({duration:3e3,message:"个人信息更新失败!请检查填入信息和选择项目是否存在!",type:"is-cred-2"})})}}},p=d,f=(s("08df"),s("2877")),m=Object(f["a"])(p,i,a,!1,null,"5f3918de",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-08bfd9c4.5dc91999.js.map